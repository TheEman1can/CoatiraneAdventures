#:import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import random random
<scrollcharacterpreview>:
    id: selection
    size_hint: None, None
    size: 250, 650
    ScrollView:
        id: scrollPane
        do_scroll_y: False
        size: self.parent.size
        size_hint: None, None
        canvas.before:
            Color:
                rgba: 1,1,1,1
            Rectangle:
                size: self.size
                pos: self.pos
        FloatLayout:
            id: charPane
            size: self.parent.size
            size_hint: None, None

<Dungeonbattle>
    name: 'dungeon_battle'
    id: dungeonscreen
    level_label: lvllabel
    turn_label: turnlabel
    encounter_label: encounterlabel
    Label:
        id: lvllabel
        font_size: 120
        color: 1,1,1,1
        size: self.texture_size
        pos: .5, .5
    Label:
        id: encounterlabel
        font_size: 120
        color: 1,1,1,1
        size: self.texture_size
        size_hint_y: None
        pos: .5, 500

    Label:
        id: turnlabel
        font_size: 120
        color: .8,.8,.8,1
        size: self.texture_size
        size_hint: None, None
        pos: 1180, 1240
<CharPreview>

    moveBar: move_bar
    moveBox: move_box
    Button:
        id: move_box
        size: 200, 75
        pos: self.parent.pos[0], self.parent.pos[1] + 200
        size_hint: None, None
        text: '%s' % root.move1name
        font_size: 30
        color: 0,0,0,1
        on_release: move_bar.hide_widget()
        background_color: 1,1,1,0
        canvas.before:
            Color:
                rgba: 1,1,1,1
            Mesh:
                mode: 'triangle_fan'
                vertices: [self.pos[0] + 0, self.pos[1] + 37.25,0,0, self.pos[0] + 25,self.pos[1] + 69.5,0,0, self.pos[0] + 175,self.pos[1] + 69.5, 0, 0, self.pos[0] + 200, self.pos[1] + 37.25,0,0, self.pos[0] + 175, self.pos[1] + 5,0,0, self.pos[0] + 25, self.pos[1] + 5,0,0]
                indices: [0,1,2,3,4,5]
        MoveBarObject:
            id: move_bar
            pos: 200, self.parent.pos[1] + self.parent.height - 5
            Button:
                id: button0
                pos: 200, self.parent.pos[1]
                on_release: self.parent.callback(self.text, 0)
                size: self.parent.size[0] / 5, self.parent.size[1]
                size_hint: None, None
                color: 0,0,0,1
                background_color: 0,0,0,0
                text: '%s' % root.move1name
                font_size: 30
            Button:
                id: button1
                pos: 200 + 175, self.parent.pos[1]
                on_release: self.parent.callback(self.text, 1)
                size: self.parent.size[0] / 5, self.parent.size[1]
                size_hint: None, None
                color: 0,0,0,1
                background_color: 0,0,0,0
                text: '%s' % root.move2name
                font_size: 30
            Button:
                id: button2
                pos: 200 + 175*2, self.parent.pos[1]
                on_release: self.parent.callback(self.text, 2)
                size: self.parent.size[0] / 5, self.parent.size[1]
                size_hint: None, None
                color: 0,0,0,1
                background_color: 0,0,0,0
                text: '%s' % root.move3name
                font_size: 30
            Button:
                id: button3
                pos: 200 + 175*3, self.parent.pos[1]
                on_release: self.parent.callback(self.text, 3)
                size: self.parent.size[0] / 5, self.parent.size[1]
                size_hint: None, None
                color: 0,0,0,1
                background_color: 0,0,0,0
                text: '%s' % root.move4name
                font_size: 30
            Button:
                id: button4
                pos: 200 + 175*4, self.parent.pos[1]
                on_release: self.parent.callback(self.text, 4)
                size: self.parent.size[0] / 5, self.parent.size[1]
                size_hint: None, None
                color: 0,0,0,1
                background_color: 0,0,0,0
                text: '%s' % root.specialname
                font_size: 30



