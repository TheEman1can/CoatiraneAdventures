<RecruitPreview>:
    background_source: "backgrounds/background.png"
    AsyncImage:
        id: char_image
        size_hint: None, 0.6
        width: self.height * self.image_ratio
        pos_hint: {'x': 0, 'center_y': 0.5}
        allow_stretch: True
    Image:
        id: char_type_flag
        size_hint: app.get_dkey('rs.ctf s_h')
        pos_hint: app.get_dkey('rs.ctf p_h')
    Image:
        id: type_flag
        size_hint: app.get_dkey('rs.tf s_h')
        pos_hint: app.get_dkey('rs.tf p_h')
    Image:
        id: element_flag_background
        size_hint: app.get_dkey('rs.efb s_h')
        pos_hint: app.get_dkey('rs.efb p_h')
    Image:
        id: element_flag_symbol
        size_hint: app.get_dkey('rs.efs s_h')
        pos_hint: app.get_dkey('rs.efs p_h')
    #Full Name
    Label:
        id: full_name
        size_hint: (None, None)
        size: self.texture_size
        text: '[b]' + root.character.get_name() + '[/b]'
        markup: True
        font_name: 'Precious.ttf'
        font_size: app.get_dkey('rs.fnl fs', root.height)
        pos_hint: app.get_dkey('rs.fnl p_h')
        color: app.get_dkey('rs.fnl.colrs ' + root.character.get_element().lower())
        outline_width: app.get_dkey('rs.fnl ow')
        outline_color: app.get_dkey('rs.fnl oc')
    #Display Name
    Label:
        id: display_name
        size_hint: (None, None)
        size: self.texture_size
        text: '[b]' + root.character.get_display_name() + '[/b]'
        markup: True
        font_name: 'Precious.ttf'
        font_size: app.get_dkey('rs.dnl fs', root.height)
        pos_hint: app.get_dkey('rs.dnl p_h')
        color: app.get_dkey('rs.dnl.colrs ' + root.character.get_type().lower())
        outline_width: app.get_dkey('rs.dnl ow')
        outline_color: app.get_dkey('rs.dnl oc')
    #Char Type Flag Label
    Label:
        id: char_type_flag_label
        text: 'Supporter' if root.character.is_support() else 'Adventurer'
        font_name: 'Precious.ttf'
        font_size: app.get_dkey('rs.ctfl fs', root.width)
        size_hint: app.get_dkey('rs.ctfl s_h')
        pos_hint: app.get_dkey('rs.ctfl p_h')
        color: app.get_dkey('rs.ctfl c')
    #Type Flag Label
    Label:
        id: type_flag_label
        text: root.character.get_type().capitalize() + ' Type'
        font_name: 'Precious.ttf'
        font_size: app.get_dkey('rs.tfl fs', root.width)
        size_hint: app.get_dkey('rs.tfl s_h')
        pos_hint: app.get_dkey('rs.tfl p_h')
        color: app.get_dkey('rs.tfl c')
    Label:
        id: element_flag_label
        text: root.character.get_element().capitalize()
        font_name: 'Precious.ttf'
        font_size: app.get_dkey('rs.efl fs', root.width)
        size_hint: app.get_dkey('rs.efl s_h')
        pos_hint: app.get_dkey('rs.efl p_h')
        color: app.get_dkey('rs.efl c')
        canvas.before:
            PushMatrix
            Rotate:
                angle: app.get_dkey("cas.eflgl ang")
                origin: self.center
        canvas.after:
            PopMatrix
    #Roll Again
    PPCHoverPathButton:
        id: roll_again
        path: 'buttons/recruit_button'
        collision_source: 'buttons/largebutton.collision.png'
        text: 'Roll Again'
        font_name: 'Precious.ttf'
#        label_color: app.get_dkey('rs.ra lc')
#        label_padding: app.get_dkey('rs.ra lp', self.height)
        pos_hint: app.get_dkey('rs.ra p_h')
        font_size: app.get_dkey('rs.ra fs', root.height)
        size_hint: app.get_dkey('rs s_h')
        on_release: root.on_roll_again()
    #Confirm
    PPCHoverPathButton:
        id: confirm
        path: 'buttons/recruit_button_confirm'
        collision_source: 'buttons/largebutton.collision.png'
        text: 'Confirm'
        font_name: 'Precious.ttf'
        #label_color: app.get_dkey('rs.c lc')
        #label_padding: app.get_dkey('rs.c lp', self.height)
        pos_hint: app.get_dkey('rs.c p_h')
        font_size: app.get_dkey('rs.c fs', root.height)
        size_hint: app.get_dkey('rs s_h')
        on_release: root.on_confirm()
    #Cancel
    PPCHoverPathButton:
        id: cancel
        path: 'buttons/recruit_button_cancel'
        collision_source: 'buttons/largebutton.collision.png'
        text: 'Cancel'
        font_name: 'Precious.ttf'
#        label_color: app.get_dkey('rs.ca lc')
#        label_padding: app.get_dkey('rs.ca lp', self.height)
        pos_hint: app.get_dkey('rs.ca p_h')
        font_size: app.get_dkey('rs.ca fs', root.height)
        size_hint: app.get_dkey('rs s_h')
        on_release: root.on_cancel()
    #Character Attribute Screen
    PPCHoverPathButton:
        id: character_attribute
        path: 'buttons/character_attribute'
        collision_source: 'buttons/largebutton.collision.png'
        text: 'Attributes'
        font_name: 'Precious.ttf'
#        label_color: app.get_dkey('rs.cas lc')
#        label_padding: app.get_dkey('rs.cas lp', self.height)
        pos_hint: app.get_dkey('rs.cas p_h')
        font_size: app.get_dkey('rs.cas fs', root.height)
        size_hint: app.get_dkey('rs s_h')
        on_release: root.on_char_attribute()